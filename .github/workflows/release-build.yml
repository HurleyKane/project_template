name: Use reusable build workflow

on:
  push:
    tags:
      - 'v*'
  workflow_dispatch:

permissions:
  contents: write  # ✅ 必须加上，否则 release 上传会被拒绝

jobs:
  call-build:
    uses: HurleyKane/project_template/.github/workflows/template-python-build-release.yml@main
    with:
      python-version: '["3.11"]'
      build-command: "python -m build"
    secrets:
      GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
